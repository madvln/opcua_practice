## –¢–µ–≥–∏ –≤ OPC

–í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º OPC (–Ω–∞–ø—Ä–∏–º–µ—Ä, OPC DA –∏–ª–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ SCADA-—Å–∏—Å—Ç–µ–º –≤—Ä–æ–¥–µ Siemens WinCC, Wonderware, ICONICS –∏ –¥—Ä.), –ø–æ–¥ *—Ç–µ–≥–∞–º–∏* –æ–±—ã—á–Ω–æ –ø–æ–Ω–∏–º–∞—é—Ç—Å—è **–ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**, –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ –Ω–∞ OPC —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ –¥–∞–≤–∞—Ç—å –∏–º–µ–Ω–∞, —Ç–∏–ø—ã, –æ–ø–∏—Å–∞–Ω–∏—è –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞. –û–Ω–∏ –≤–∏–¥–Ω—ã SCADA, –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –∏ –ª–æ–≥–∏–∫–µ.

–í OPC UA ‚Äî –≤—Å—ë –≥–∏–±—á–µ, –Ω–æ **–∞–Ω–∞–ª–æ–≥ —Ç–µ–≥–æ–≤** —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑:

---

## ‚úÖ –ß—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è "—Ç–µ–≥–æ–º" –≤ OPC UA

–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ OPC UA **—Ç–µ–≥ = –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è (node), —Ä–∞–∑–º–µ—â—ë–Ω–Ω–∞—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**.

–ù–∞–ø—Ä–∏–º–µ—Ä:

```python
boiler = server.nodes.objects.add_object(idx, "Boiler")

# –≠—Ç–æ –∏ –µ—Å—Ç—å "—Ç–µ–≥–∏":
temperature_node = boiler.add_variable(idx, "OutputTemp", 25.0)
water_level_node = boiler.add_variable(idx, "WaterLevel", 0.0)
```

–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —è–≤–ª—è—é—Ç—Å—è —Ç–µ–≥–∞–º–∏ OPC UA ‚Äî –ø—Ä–æ—Å—Ç–æ –±–µ–∑ "—Ñ–∞–π–ª–∞ —Ç–µ–≥–æ–≤", –∫–∞–∫ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.

---

## üì¶ –ú–æ–∂–Ω–æ –ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–≥–∏ "–≥–æ—Ç–æ–≤—ã–º —Å–ø–∏—Å–∫–æ–º"?

–í `python-opcua` (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä—É—é —Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å), –Ω–µ—Ç –ø—Ä—è–º–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ "—Ç–∞–±–ª–∏—Ü—ã —Ç–µ–≥–æ–≤ –∏–∑ CSV/Excel", –Ω–æ —Ç—ã –º–æ–∂–µ—à—å:

### –í–∞—Ä–∏–∞–Ω—Ç 1: üóÇ –°–¥–µ–ª–∞—Ç—å —Å–ª–æ–≤–∞—Ä—å —Ç–µ–≥–æ–≤ –≤—Ä—É—á–Ω—É—é

```python
TAGS = {
    "OutputTemp": 25.0,
    "WaterLevel": 0.0,
    "ValveHotIn": 0.5,
    ...
}
for name, value in TAGS.items():
    boiler.add_variable(idx, name, value).set_writable()
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: üìÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ CSV

```csv
name,value,writable
OutputTemp,25.0,False
WaterLevel,0.0,False
ValveHotIn,0.5,True
```

–ó–∞—Ç–µ–º –≤ `server_main.py`:

```python
import csv

with open("tags.csv") as f:
    reader = csv.DictReader(f)
    for row in reader:
        node = boiler.add_variable(idx, row["name"], float(row["value"]))
        if row["writable"].lower() == "true":
            node.set_writable()
```

---

## üß† –ö–∞–∫ SCADA –ø–æ–π–º—ë—Ç, –∫–∞–∫–∏–µ —Ç–µ–≥–∏ –µ—Å—Ç—å?

OPC UA —Å–µ—Ä–≤–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—É–±–ª–∏–∫—É–µ—Ç **—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∞–¥—Ä–µ—Å–Ω–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞** ‚Äî SCADA –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –ø—Ä–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å `Objects/Boiler` –∏ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤.

–ü—Ä–∏–º–µ—Ä: –≤ SCADA-—Å–∏—Å—Ç–µ–º–µ —Ç—ã –ø–æ–¥–∫–ª—é—á–∞–µ—à—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤–∏–¥–∏—à—å:

```
Boiler
‚îú‚îÄ‚îÄ OutputTemp
‚îú‚îÄ‚îÄ WaterLevel
‚îú‚îÄ‚îÄ ValveHotIn
‚îú‚îÄ‚îÄ ValveColdIn
‚îú‚îÄ‚îÄ ValveOut
```

---

## ‚úçÔ∏è –í—ã–≤–æ–¥

* –î–∞, –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–≥–∏ –µ—Å—Ç—å ‚Äî —ç—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `add_variable(...)`.
* –¢—ã **—Å–∞–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—à—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –∏–º–µ–Ω–∞ —ç—Ç–∏—Ö —Ç–µ–≥–æ–≤** –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ OPC UA —Å–µ—Ä–≤–µ—Ä–∞.
* –ò—Ö –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å, —Å–¥–µ–ª–∞—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ –∏ —Ç.–¥.
* –ó–∞–≥—Ä—É–∑–∫—É –∏–∑ —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—Ä—É—á–Ω—É—é, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å —É–¥–æ–±—Å—Ç–≤–∞/–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏.

–•–æ—á–µ—à—å ‚Äî –º–æ–≥—É —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∏–º–µ—Ä, –≥–¥–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ–≥–æ–≤ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ `tags.json` –∏–ª–∏ `tags.csv` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
